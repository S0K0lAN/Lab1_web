# Каталог услуг фитнес-клуба "Пирамида"

Веб-приложение для поиска и просмотра услуг фитнес-клуба с подключением к базе данных MySQL.

## Структура проекта

```
├── Lab1_web/           # Статические файлы (HTML, CSS, JS, изображения)
├── server.js           # Node.js сервер с API
├── package.json        # Зависимости проекта
├── database_setup.sql  # SQL скрипт для создания базы данных
└── README.md          # Этот файл
```

## Требования

- Node.js (версия 14 или выше)
- MySQL (версия 5.7 или выше)
- npm (менеджер пакетов Node.js)

## Установка и настройка

### 1. Установка зависимостей

```bash
npm install
```

### 2. Настройка базы данных

1. Убедитесь, что MySQL запущен на порту 3306
2. Выполните SQL скрипт для создания базы данных:

```bash
mysql -u root -p < database_setup.sql
```

Или откройте файл `database_setup.sql` в MySQL Workbench и выполните его.

### 3. Настройка подключения к базе данных

Отредактируйте файл `server.js` и измените параметры подключения:

```javascript
const connection = mysql.createConnection({
    host: 'localhost',
    port: 3306,
    user: 'your_username',     // ваше имя пользователя MySQL
    password: 'your_password', // ваш пароль MySQL
    database: 'fitness_club'   // имя базы данных
});
```

### 4. Запуск сервера

```bash
npm start
```

Или для разработки с автоматической перезагрузкой:

```bash
npm run dev
```

Сервер будет доступен по адресу: http://localhost:3000

## API Endpoints

- `GET /api/services` - получить все услуги
- `GET /api/services/search/:letter` - поиск услуг по первой букве
- `GET /api/services/:id` - получить услугу по ID
- `GET /api/trainers` - получить всех тренеров

## Структура базы данных

### Таблица `trainers`
- `id` - первичный ключ
- `name` - имя тренера
- `specialization` - специализация
- `experience_years` - опыт работы
- `created_at` - дата создания

### Таблица `services_catalogue`
- `id` - первичный ключ
- `name` - название услуги
- `description` - описание
- `duration` - длительность
- `price` - цена
- `trainer_id` - ID тренера (внешний ключ)
- `image_path` - путь к изображению
- `details` - подробности
- `schedule` - расписание (JSON)
- `created_at` - дата создания

## Функциональность

- **Поиск услуг** по первой букве названия
- **Каталог услуг** с отображением всех доступных программ
- **Детальная информация** об услугах
- **Связь с тренерами** через внешние ключи
- **JSON расписание** для каждой услуги

## Разработка

Для разработки рекомендуется использовать nodemon для автоматической перезагрузки сервера:

```bash
npm install -g nodemon
npm run dev
```

## Устранение неполадок

### Ошибка подключения к базе данных
- Проверьте, что MySQL запущен
- Убедитесь в правильности параметров подключения в `server.js`
- Проверьте права доступа пользователя к базе данных

### Ошибка "Cannot find module"
- Выполните `npm install` для установки зависимостей

### Порт уже используется
- Измените порт в файле `server.js` (переменная `PORT`)

## Лицензия

MIT License
